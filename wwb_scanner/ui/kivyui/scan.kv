<ScanRangeControls>:
    orientation: 'horizontal'
    
<ScanRangeTextInput>:
    multiline: False
    on_text_validate: self.validate_input()
    input_filter: 'float'
    
<ScanControls>:
    orientation: 'horizontal'
    scan_range_widget: scan_range
    start_btn: start_btn
    stop_btn: stop_btn
    canvas:
        Color:
            rgb: .8, .8, .8
        Line:
            rectangle: self.x+1, self.y+1,self.width-1, self.height-1
    BoxLayout:
        orientation: 'vertical'
        canvas:
            Color:
                rgb: .8, .8, .8
            Line:
                rectangle: self.x+1, self.y+1,self.width-1, self.height-1
        Label:
            text: 'Scan Range'
        ScanRangeControls:
            id: scan_range
            scan_range_start_txt: scan_range_start
            scan_range_end_txt: scan_range_end
            ScanRangeTextInput:
                id: scan_range_start
                range_index: 0
            ScanRangeTextInput:
                id: scan_range_end
                range_index: 1
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'Gain'
        Button:
            text: str(root.gain)
            on_release: root.gain_dropdown.open(self)
    Button:
        id: start_btn
        text: 'Start'
        disabled: root.scanning
        on_release: root.on_scan_button_release()
    Button:
        id: stop_btn
        text: 'Stop'
        diabled: True
        on_release: root.on_stop_button_release()

<ScanGainDropDown>:
    on_select: self.scan_controls.gain = args[1]

<ScanGainDropDownBtn>:
    size_hint_y: None
    height: 44
    text: str(self.gain)
    on_release: self.parent.parent.select(self.gain)
